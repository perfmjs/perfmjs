<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hello perfmjs</title>
    <script type="text/javascript" src="build/core-1.3.5.js"></script>
    <script>
        require(['loader'], function(loader) {
            loader.load({src:"{n:'load-js',t:'js',m:'foo;'}"}
            ).loadModules({name:'load-js', type:'js', mdCallback:function(source, module, combineUrls) {
                        if (module === 'foo') {
                            combineUrls[combineUrls.length] = '/perfmjs/example/amd/foo.js';
                        }
                    }, afterLoadedCallback:function() {
                        //应用入口函数
                        require(['app', 'foo'], function (app, foo) {
                            app.registerAndStart(foo);
                            alert(foo.instance.sayHello('perfmjs'));
                        });
                    }});
        });
    </script>
</head>
<body>
Hello perfmjs!
</body>
</html>